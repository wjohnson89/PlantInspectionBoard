<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Daily Assignments Board for the District">
    <meta name="author" content="Wayne Johnson Jr.">
    <!--    <meta http-equiv="refresh" content="30" />-->

    <title>Daily Assignments</title>

    <!-- Bootstrap core CSS-->
    <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template-->
    <link href="static/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Page level plugin CSS-->
    <!--    <link href="static/vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">-->

    <!-- Custom styles for this template-->
    <link href="static/css/sb-admin.css" rel="stylesheet">


</head>

<body id="page-top">

    <nav class="navbar navbar-expand navbar-dark bg-dark static-top">

        <a class="navbar-brand mr-1" href="index.html">MassDOT District 4 Lab</a>

        <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
            <i class="fas fa-bars"></i>
        </button>
        <!-- Breadcrumbs-->
        <div class=" navbar navbar-top-links navbar-right" style="color: white">
            <span>Daily Assignments
                <u><b><span id="today"></span></b></u>
                <script>
                    var d = new Date();
                    document.getElementById("today").innerHTML = d.toDateString();
                </script>
            </span>
        </div>
        <a id="today"></a>

        <!-- Navbar Search -->
        <!--
<form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
    <div class="input-group">
        <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
        <div class="input-group-append">
            <button class="btn btn-primary" type="button">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
</form>
-->

        <!--
       Navbar 
      <ul class="navbar-nav ml-auto ml-md-0">
        <li class="nav-item dropdown no-arrow mx-1">
          <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-bell fa-fw"></i>
            <span class="badge badge-danger">9+</span>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item dropdown no-arrow mx-1">
          <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-envelope fa-fw"></i>
            <span class="badge badge-danger">7</span>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="messagesDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item dropdown no-arrow">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-user-circle fa-fw"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item" href="#">Settings</a>
            <a class="dropdown-item" href="#">Activity Log</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">Logout</a>
          </div>
        </li>
      </ul>
-->

    </nav>

    <div id="wrapper">

        <!-- Sidebar -->
        <!--
      <ul class="sidebar navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="index.html">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-fw fa-folder"></i>
            <span>Pages</span>
          </a>
          <div class="dropdown-menu" aria-labelledby="pagesDropdown">
            <h6 class="dropdown-header">Login Screens:</h6>
            <a class="dropdown-item" href="login.html">Login</a>
            <a class="dropdown-item" href="register.html">Register</a>
            <a class="dropdown-item" href="forgot-password.html">Forgot Password</a>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">Other Pages:</h6>
            <a class="dropdown-item" href="404.html">404 Page</a>
            <a class="dropdown-item" href="blank.html">Blank Page</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="charts.html">
            <i class="fas fa-fw fa-chart-area"></i>
            <span>Charts</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="tables.html">
            <i class="fas fa-fw fa-table"></i>
            <span>Tables</span></a>
        </li>
      </ul>
-->

        <div id="content-wrapper">

            <div class="container-fluid">


                <!-- Icon Cards-->
                <!-- <div class="row">
            <div class="col-xl-3 col-sm-6 mb-3">
              <div class="card text-white bg-primary o-hidden h-100">
                <div class="card-body">
                  <div class="card-body-icon">
                    <i class="fas fa-fw fa-comments"></i>
                  </div>
                  <div class="mr-5">26 New Messages!</div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="#">
                  <span class="float-left">View Details</span>
                  <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                  </span>
                </a>
              </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-3">
              <div class="card text-white bg-warning o-hidden h-100">
                <div class="card-body">
                  <div class="card-body-icon">
                    <i class="fas fa-fw fa-list"></i>
                  </div>
                  <div class="mr-5">11 New Tasks!</div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="#">
                  <span class="float-left">View Details</span>
                  <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                  </span>
                </a>
              </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-3">
              <div class="card text-white bg-success o-hidden h-100">
                <div class="card-body">
                  <div class="card-body-icon">
                    <i class="fas fa-fw fa-shopping-cart"></i>
                  </div>
                  <div class="mr-5">123 New Orders!</div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="#">
                  <span class="float-left">View Details</span>
                  <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                  </span>
                </a>
              </div>
            </div>
            <div class="col-xl-3 col-sm-6 mb-3">
              <div class="card text-white bg-danger o-hidden h-100">
                <div class="card-body">
                  <div class="card-body-icon">
                    <i class="fas fa-fw fa-life-ring"></i>
                  </div>
                  <div class="mr-5">13 New Tickets!</div>
                </div>
                <a class="card-footer text-white clearfix small z-1" href="#">
                  <span class="float-left">View Details</span>
                  <span class="float-right">
                    <i class="fas fa-angle-right"></i>
                  </span>
                </a>
              </div>
            </div>
          </div> -->

                <!-- Area Chart Example-->
                <!--<div class="card mb-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
              Area Chart Example</div>
            <div class="card-body">
              <canvas id="myAreaChart" width="100%" height="30"></canvas>
            </div>
            <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
          </div> -->

                <!-- DataTables Example -->
                <!--Table colspan total=8-->
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                <!-- TODO: Create JS script to auto-populate from database file -->

                                <!-- Daily assignments whiteboard -->
                                <thead style="background-color: #6699ff; color:white">
                                    <tr>
                                        <th>
                                            Insp
                                        </th>
                                        <th>
                                            Date
                                        </th>
                                        <th>
                                            Plant
                                        </th>
                                        <th>
                                            Mix Info
                                        </th>
                                        <th>
                                            QTY
                                        </th>
                                        <th>
                                            Units
                                        </th>
                                        <th>
                                            Proposed Use
                                        </th>
                                        <th>
                                            OnSite Time
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="BodyRows">

                                    <script>
                                        window.addEventListener("load", function() {
			getRows();
		});
          
// function getID(xml){
// var loopIndex;
// for (loopIndex = 0; loopIndex < xml.childNodes.length; loopIndex++) // { // var currentNode=xml.childNodes[loopIndex]; // switch(currentNode.getElementsByTagName('InspectorID')[0].childeNodes[0].nodeValue){ // case 2: // currentNode.nodeValue="WA" ; // break; // case 4: // currentNode.nodeValue="KC" ; // break; // case 6: // currentNode.nodeValue="CG" ; // break; // case 7: // currentNode.nodeValue="WJ" ; // break; // case 8: // currentNode.nodeValue="JK" ; // break; // case 9: // currentNode.nodeValue="AK" ; // break; // case 11: // currentNode.nodeValue="PM" ; // break; // case 12: // currentNode.nodeValue="LM" ; // break; // case 13: // currentNode.nodeValue="NC" ; // break; // case 14: // currentNode.nodeValue="XX" ; // break; // case 15: // currentNode.nodeValue="D3" ; // break; // case 16: // currentNode.nodeValue="D6" ; // break; // case 17: // currentNode.nodeValue="D5" ; // break; // case 18: // currentNode.nodeValue="TBA" ; // break; // // } // } // // }

		function getRows() {
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.open("get", "static/DailyAssignments_TODAY.xml", true);
			xmlhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					showResult(this);
				}
			};
			xmlhttp.send(null);
		}

		function showResult(xmlhttp) {
			var xmlDoc = xmlhttp.responseXML.documentElement;
            var xml = xmlhttp.responseXML;
//            getID(xml);
			removeWhitespace(xmlDoc);
			var outputResult = document.getElementById("BodyRows");
			var rowData = xmlDoc.getElementsByTagName("PlantInspectionActivity");

			addTableRowsFromXmlDoc(rowData,outputResult);
		}

		function addTableRowsFromXmlDoc(xmlNodes,tableNode) {
			var theTable = tableNode.parentNode;
			var newRow, newCell, i;
			console.log ("Number of nodes: " + xmlNodes.length);
			for (i=0; i<xmlNodes.length; i++) {
				newRow = tableNode.insertRow(i);
				newRow.className = (i%2) ? "OddRow" : "EvenRow";
				for (j=0; j<xmlNodes[i].childNodes.length; j++) {
					newCell = newRow.insertCell(newRow.cells.length);
					if (xmlNodes[i].childNodes[j].firstChild) {
						newCell.innerHTML = xmlNodes[i].childNodes[j].firstChild.nodeValue;
					} else {
						newCell.innerHTML = "-";
					}
					console.log("cell: " + newCell);
				}
				}
				theTable.appendChild(tableNode);
		}

		function removeWhitespace(xml) {
			var loopIndex;
			for (loopIndex = 0; loopIndex < xml.childNodes.length; loopIndex++)
			{
				var currentNode = xml.childNodes[loopIndex];
				if (currentNode.nodeType == 1)
				{
					removeWhitespace(currentNode);
				}
				if (!(/\S/.test(currentNode.nodeValue)) && (currentNode.nodeType == 3))
				{
					xml.removeChild(xml.childNodes[loopIndex--]);
				}
			}
		}

	</script>
                                    <!--
                        <tr style="background-color: lightgray">
                            <td>
                                WJ
                            </td>
                            <td>
                                12/04/2018
                            </td>
                            <td>
                                4000 3/4 Regular
                            </td>
                            <td>
                                10 CY
                            </td>
                            <td>
                                Ground Mount Foundations
                            </td>
                            <td>
                                12:00PM
                            </td>
                        </tr>
                        <tr>
                            <td>
                                WJ
                            </td>
                            <td>
                                12/04/2018
                            </td>
                            <td>
                                4000 3/4 Regular
                            </td>
                            <td>
                                11 CY
                            </td>
                            <td>
                                Ground Mount Foundations
                            </td>
                            <td>
                                12:00PM
                            </td>
                        </tr>
-->
                                </tbody>




                                <!--  Daily Assignments Detailed info-->

                                <!--
                  <thead>
                    <tr>
                      <td colspan="4" align="center" style='background-color: lightcyan'><b>Inspector</b></td><td colspan="5" align="left" style='background-color: lightcyan'><b>(555) 555-5555</b></td>
                    </tr>
                    </thead>
                  <tbody>
                      <tr>
                          <td colspan="2" align="center" style="background-color: lightgoldenrodyellow"><b>12/5/2018</b></td>
                          <td colspan="6"></td>
                      </tr>
                      
                    <tr>
                        <td rowspan="3"><b>8:00AM</b></td>
                        <td colspan="4"><b>Brox Dracut</b></td>
                        <td style="color: gray" align="left">Contract:</td>
                      <td><b>999999</b></td>
                      <td colspan="1" style="color: gray" align="right">Cost Code:</td>
                      <td>P604986C12</td>
                    </tr>
                      <tr>
                          <td colspan="2"><b>SPC-B - 9.5</b></td>
                        <td colspan="2"><b>50 Ton</b></td>
                          <td style="color: gray" align:"left">Contact:</td>
                          <td><b>Bobby Whatsaname</b></td>
                          <td>(617)555-5555</td>
                      </tr>
                      <tr>
                          <td colspan="6">Chelmsford, Rte4/I-495 Deck Replacement 1407 West. 455.7 Bridge Protective Course. L4 100G</td>
                      </tr>
                    </tbody>
-->




                            </table>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /.container-fluid -->

            <!-- Sticky Footer -->
            <footer class="sticky-footer">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright © WJ 2018</span>
                    </div>
                </div>
            </footer>

        </div>
        <!-- /.content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="login.html">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="static/vendor/jquery/jquery.min.js"></script>
    <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="static/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Page level plugin JavaScript-->
    <!--
<script src="static/vendor/chart.js/Chart.min.js"></script>
<script src="static/vendor/datatables/jquery.dataTables.js"></script><script src="static/vendor/datatables/dataTables.bootstrap4.js"></script>
-->

    <!-- Custom scripts for all pages-->
    <script src="static/js/sb-admin.min.js"></script>

    <!-- Demo scripts for this page-->
    <script src="static/js/demo/datatables-demo.js"></script>
    <script src="static/js/demo/chart-area-demo.js"></script>

</body>

</html>
